<!DOCTYPE html>
<html>

<head>
    <title>Kalkulator - Hedi Harsono</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<script>
    var bil1;
    var bil2;
    var hasil;
    var opr;
    var opr_seleksi = false;

    function btn(angka) {
        var tampil = document.getElementById("keluaran").value;
        if (tampil == "0") {
            tampil = angka;
        } else {
            tampil += angka;
        }
        document.getElementById("keluaran").value = tampil;
    }

    function clr() {
        document.getElementById("keluaran").value = "0";
        bil1 = 0;
        bil2 = 0;
        opr_seleksi = false;
    }

    function koma() {
        var tampil = document.getElementById("keluaran").value;
        if (tampil.includes(".") == false) {
            tampil += ".";
        }
        document.getElementById("keluaran").value = tampil;
    }

    function btn_opr(o) {
        opr_seleksi = true;
        bil1 = parseFloat(document.getElementById("keluaran").value);
        opr = o;
        document.getElementById("keluaran").value = "0";
    }

    function hitung() {
        if (opr_seleksi == true) {
            bil2 = parseFloat(document.getElementById("keluaran").value);
            switch (opr) {
                case 1:
                    hasil = bil1 / bil2;
                    document.getElementById("keluaran").value = hasil;
                    break;
                case 2:
                    hasil = bil1 * bil2;
                    document.getElementById("keluaran").value = hasil;
                    break;
                case 3:
                    hasil = bil1 - bil2;
                    document.getElementById("keluaran").value = hasil;
                    break;
                case 4:
                    hasil = bil1 + bil2;
                    document.getElementById("keluaran").value = hasil;
                    break;
            }
            opr_seleksi = false
            hasil = 0;
            bil1 = 0;
            bil2 = 0;
        }
    }
</script>

<body>
    <form>
        <table width="100%">
            <tr width="100%">
                <td colspan="4">
                    <input type="text" class="form-control" value="0" autocomplete="off" id="keluaran">
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <button type="button" class="btn btn-danger btn-lg btn-block" onclick="clr()">C</button>
                </td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('7')">7</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('8')">8</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('9')">9</button></td>
                <td><button type="button" class="btn btn-warning btn-lg btn-block" onclick="btn_opr(1)">/</button></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('4')">4</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('5')">5</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('6')">6</button></td>
                <td><button type="button" class="btn btn-warning btn-lg btn-block" onclick="btn_opr(2)">X</button></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('1')">1</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('2')">2</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('3')">3</button></td>
                <td><button type="button" class="btn btn-warning btn-lg btn-block" onclick="btn_opr(3)">-</button></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="btn('0')">0</button></td>
                <td><button type="button" class="btn btn-success btn-lg btn-block" onclick="koma()">.</button></td>
                <td><button type="button" class="btn btn-warning btn-lg btn-block" onclick="hitung()">=</button></td>
                <td><button type="button" class="btn btn-warning btn-lg btn-block" onclick="btn_opr(4)" value="+">+</button></td>
            </tr>
        </table>
    </form>
</body>

</html>